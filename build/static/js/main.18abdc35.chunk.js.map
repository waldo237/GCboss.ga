{"version":3,"sources":["App.module.scss","store/store.tsx","store/Reducer.ts","components/ErrorCard.tsx","components/Footer.tsx","requestFunctions/util.ts","components/Avatar.tsx","components/Dashboard.tsx","components/signInFuncs.ts","components/Nav.tsx","pages/Home.tsx","requestFunctions/topicRequests.ts","requestFunctions/classWorkRequests.ts","requestFunctions/courseWorkMaterialsRequests.ts","requestFunctions/courseRequests.ts","requestFunctions/assignmentsRequest.ts","components/Table.tsx","pages/CourseBlueprint.tsx","components/Progress.tsx","components/BtnLoad.tsx","pages/CopyAssignmentsToNewClassroom.tsx","components/ClassroomSelector.tsx","pages/Courses.tsx","components/Routes.tsx","components/SelectedClassroom.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","Context","Reducer","state","action","type","profile","payload","isLoggedIn","profileDashboard","selectedClassroom","courses","assignments","topics","courseId","targetCourseTopicIds","error","logs","loading","initialState","Store","props","useReducer","dispatch","createContext","Provider","value","children","ErrorCard","useContext","unmounted","useRef","useEffect","current","length","className","styles","errorCard","errorCardCloseBtn","onClick","map","err","i","message","Footer","rel","href","target","size","Date","getFullYear","sortByUpdateDate","a","b","c","updateTime","d","valueOf","ColorFactory","color","Math","floor","random","this","instance","getInstance","getColor","Avatar","user","avatarStyle","width","height","margin","alightSelft","justifySelft","backgroundColor","borderRadius","photoStyle","backgroundPosition","initialsStyle","display","alignItems","justifyContent","initialsH1Style","textShadow","fontSize","permissionId","style","photoLink","src","alt","displayName","split","Dashboard","id","marginTop","emailAddress","signIn","savedLocally","localStorage","getItem","params","JSON","parse","xhr","XMLHttpRequest","open","onreadystatechange","e","readyState","status","response","setItem","oauth2SignIn","send","Promise","form","document","createElement","setAttribute","process","p","input","appendChild","body","submit","getHeaders","auth","access_token","Nav","to","avatarBtn","red","btnSmall","removeItem","signOut","blue","vibration","Home","title","mainContainer","createTopic","topic","requestBody","stringify","fetch","method","headers","then","res","ok","json","er","Error","topicId","catch","console","log","getAllTopics","classwork","sort","getTopicArray","results","createTopics","breaker","deleteTopic","createCourseWork","assignment","deleteCourseWork","createCourseWorkMaterials","getCourseWorkMaterials","courseWorkMaterial","deleteCourseWorkMaterials","getAllCourses","getCoursesArray","modifiedRes","dateItWasSaved","getAssignments","courseWork","materials","getAssignmentArray","createAssignments","selectedAssignments","selectedTopics","async","targetTopics","selectedTopic","find","targetTopic","filter","name","coursesToBeEdited","localAssignments","localTopics","titlesFromlocalAssignments","titlesFromLocalTopics","topicAccumulator","forEach","courseToBeEdited","targetAssignments","includes","Table","items","selection","tr","heading","th","course","j","CourseBlueprint","useState","setLoading","container","list","yellow","disabled","spin","Progress","total","percentage","flexRows","max","BtnLoad","identifier","text","classNames","directCallback","isLoading","str","CopyAssignmentsToNewClassroom","count","courseReceivingChange","mainContainerCopy","cols","undoOldActions","ClassroomSelector","courseIds","memoizedCourseId","useMemo","onChange","preventDefault","getInput","item","getCourse","Courses","green","Routes","path","exact","SelectedClassroom","minimized","setMinimized","description","courseState","creationTime","card","justifyStart","formatDistanceToNow","addSuffix","App","window","addEventListener","savedCourse","savedAssignments","savedTopics","m","fragmentString","location","hash","substring","regex","exec","decodeURIComponent","Object","keys","loadAuth","mainHeader","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.18abdc35.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2DHY4\",\"move\":\"App_move__2TfPC\",\"flexRows\":\"App_flexRows__194-t\",\"container\":\"App_container__3Sbn4\",\"mainContainer\":\"App_mainContainer__3vvoW\",\"mainContainerCopy\":\"App_mainContainerCopy__1iyfa\",\"card\":\"App_card__2FdLF\",\"errorCard\":\"App_errorCard__1vvAq\",\"slideInLeft\":\"App_slideInLeft__KZbtD\",\"errorCardCloseBtn\":\"App_errorCardCloseBtn__1KHDw\",\"avatarBtn\":\"App_avatarBtn__3g6zQ\",\"list\":\"App_list__3ne1u\",\"justifyStart\":\"App_justifyStart__2nSjQ\",\"btn-3d\":\"App_btn-3d__2BvUJ\",\"btnSmall\":\"App_btnSmall__onatU\",\"red\":\"App_red__1LsHl\",\"yellow\":\"App_yellow__2q2jN\",\"green\":\"App_green__3bQac\",\"cyan\":\"App_cyan__133cr\",\"blue\":\"App_blue__3-sCM\",\"purple\":\"App_purple__1vDQD\",\"cols\":\"App_cols__efUES\",\"mainHeader\":\"App_mainHeader__1D2l-\",\"spin\":\"App_spin__3JaWw\",\"rotateOut\":\"App_rotateOut__3EsOs\",\"vibration\":\"App_vibration__1kT3b\",\"vibrate\":\"App_vibrate__3p6ZV\"};","import React, { createContext, useReducer } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Reducer from \"./Reducer\";\n\n\n\n\nconst initialState = {\n  courses: [],\n  assignments: [],\n  topics: [],\n  targetCourseTopicIds:{},\n  courseId: \"\",\n  profile: {},\n  isLoggedIn: false,\n  profileDashboard: false,\n  selectedClassroom: null,\n  error: [],\n  loading:\"\",\n  logs:[]\n};\nlet Context: any;\nconst Store = (props: { children: React.ReactNode }) => {\n  const [state, dispatch] = useReducer(Reducer, initialState);\n  Context = createContext([initialState, dispatch]);\n  return (\n    <Context.Provider value={[state, dispatch]}>\n      {props.children}\n    </Context.Provider>\n  );\n};\nStore.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n  ]).isRequired,\n};\nexport { Context, Store };  \n\n","const Reducer = (state:any, action:{type:string, payload:any}) => {\n    switch (action.type) {\n        case 'SET_PROFILE':\n            return {\n                ...state,\n                profile: action.payload\n            };\n        case 'SET_IS_LOGGED_IN':\n            return {\n                ...state,\n                isLoggedIn: action.payload\n            };\n        case 'SET_PROFILE_DASHBOARD':\n            return {\n                ...state,\n                profileDashboard: action.payload\n            };\n        case 'SET_SELECTED_CLASSROOM':\n            return {\n                ...state,\n                selectedClassroom: action.payload\n            };\n\n        case 'SET_COURSES':\n            return {\n                ...state,\n                courses: action.payload\n            };\n        case 'SET_SELECTED_ASSIGNMENTS':\n            return {\n                ...state,\n                assignments: action.payload\n            };\n        case 'SET_SELECTED_TOPICS':\n            return {\n                ...state,\n                topics: action.payload\n            };\n        case 'SET_COURSE_ID':\n            return {\n                ...state,\n                courseId: action.payload \n            };\n        case 'SET_TARGET_TOPIC_IDS':\n            return {\n                ...state,\n                targetCourseTopicIds: action.payload \n            };\n        case 'SET_ERROR':\n            return {\n                ...state,\n                error:  action.payload\n            };\n        case 'SET_LOGS':\n            return {\n                ...state,\n                logs:  action.payload\n            };\n        case 'SET_LOADING':\n            return {\n                ...state,\n                loading:  action.payload\n            };\n        default:\n            return state;\n    }\n};\n\nexport default Reducer;","import React, { useContext, useEffect, useRef } from \"react\";\nimport { Context } from \"../store/store\";\nimport styles from \"../App.module.scss\";\nimport { IoIosCloseCircleOutline } from \"react-icons/io\";\nexport default function ErrorCard() {\n  const [state, dispatch] = useContext(Context);\n\n  const unmounted = useRef(false);\n  useEffect(() => {\n    return () => {\n      unmounted.current = true;\n    };\n  }, []);\n\n  return (\n    <>\n      {(state.error.length) ? (\n        <div  className={styles.errorCard}>\n          <div className={styles.errorCardCloseBtn}>\n            <IoIosCloseCircleOutline\n              type=\"button\"\n              onClick={() => dispatch({ type: \"SET_ERROR\", payload: [] })}\n            />\n          </div>\n          <h3> Error Log</h3>\n          <ul>\n            {state.error.map((err: { message: string }, i: number) => (\n              <li key={i}>{err.message}</li>\n            ))}\n          </ul>\n        </div>\n      ) : null}\n    </>\n  );\n}\n","import React from \"react\";\nimport {\n  FaLinkedin,\n  FaTwitter,\n  FaFacebookSquare,\n  FaInstagram,\n  FaGithub,\n} from \"react-icons/fa\";\n\nimport  \"./Footer.scss\";\n\nexport default function Footer() {\n  return (\n    <footer className=\"footer\">\n    <div>\n      <a\n        rel=\"noopener noreferrer\"\n        href=\"https://twitter.com/WaldoMilanes\"\n        target=\"_blank\"\n        className=\"link hoverable-card social-link\"\n        // alt=\"The icon of Twitter\"\n      >\n        <FaTwitter className=\"social\" size={30} />\n      </a>\n      <a\n        rel=\"noopener noreferrer\"\n        href=\"https://www.linkedin.com/in/waldomilanes/\"\n        target=\"_blank\"\n        className=\"link hoverable-card social-link\"\n        // alt=\"The icon of LinkedIn. Find Waldo Milanes on LinkedIn\"\n      >\n        <FaLinkedin className=\"social\" size={30} />\n      </a>\n      <a\n        rel=\"noopener noreferrer\"\n        href=\"https://www.facebook.com/milanes237/\"\n        target=\"_blank\"\n        className=\"link hoverable-card social-link\"\n        // alt=\"The icon of Facebook. Find Waldo Milanes on Facebook\"\n      >\n        <FaFacebookSquare className=\"social\" size={30} />\n      </a>\n      <a\n        rel=\"noopener noreferrer\"\n        href=\"https://www.instagram.com/waldo237/?hl=en\"\n        target=\"_blank\"\n        className=\"link hoverable-card social-link\"\n        // alt=\"The icon of Instagram. Find Waldo Milanes on Instagram\"\n      >\n        <FaInstagram className=\"social\" size={30} />\n      </a>\n      <a\n        rel=\"noopener noreferrer\"\n        href=\"https://github.com/waldo237\"\n        target=\"_blank\"\n        className=\"link hoverable-card social-link\"\n        // alt=\"The icon of Github. Find Waldo Milanes on Github\"\n      >\n        <FaGithub className=\"social\" size={30} />\n      </a>\n    </div>\n    <div className=\"footer-credits flex-row-wrap\">\n      {\" \"}\n      <span>\n        &#9400; 2021-\n        {new Date().getFullYear()} &nbsp;{\" \"}\n      </span>{\" \"}\n\n      <a\n        rel=\"noopener noreferrer\"\n        href=\"https://waldomilanes.com/\"\n        target=\"_blank\"\n        className=\"link hoverable-card social-link\">\n        <span> | W PROGRAMMING | </span> <span>&nbsp;waldomilanes.com </span>\n\n        </a>\n\n    </div>\n\n    <div>\n      <div>developed by Waldo Milanes</div>\n      <span>&reg;</span>\n    </div>\n  </footer>\n  )\n}\n\n\n","\nimport { AssignmentInterface } from \"../interfaces/interfaces\";\n\nfunction sortByUpdateDate(a: AssignmentInterface, b: AssignmentInterface) {\n  let c = new Date(b.updateTime);\n  let d = new Date(a.updateTime);\n  return c.valueOf() - d.valueOf();\n}\n\nclass ColorFactory {\n  private static instance: ColorFactory;\n  private color: string = \"\";\n  private constructor() { }\n  public static getInstance(): ColorFactory {\n    if (!ColorFactory.instance) {\n      ColorFactory.instance = new ColorFactory();\n    }\n    return ColorFactory.instance;\n  }\n\n  public getColor() {\n    const letters = '0123456789ABCDEF';\n    let color = '#';\n    for (let i = 0; i < 6; i++) {\n      color += letters[Math.floor(Math.random() * 16)];\n    }\n    this.color = color;\n    return this.color;\n  }\n}\n\n\nexport { ColorFactory, sortByUpdateDate }\n","import React from \"react\";\nimport { UserInterface } from \"../interfaces/interfaces\";\nimport { ColorFactory } from \"../requestFunctions/util\";\n\n\nconst  color = ColorFactory.getInstance().getColor();\n\nconst Avatar = (props: { size: number; user: UserInterface }) => {\n\n  const { size, user } = props;\n  const avatarStyle = {\n    width: `${size}px`,\n    height: `${size}px`,\n    margin: \"2px 15px 0px 5px\",\n    alightSelft: \"center\",\n    justifySelft: \"center\",\n    backgroundColor: \"white\",\n    borderRadius: \"50%\",\n  };\n  const photoStyle = {\n    width: `${size - 1}px`,\n    height: `${size - 1}px`,\n    borderRadius: \"50%\",\n    backgroundPosition: \"cover\",\n  };\n  const initialsStyle = {\n    width: `${size - 1}px`,\n    height: `${size - 1}px`,\n    borderRadius: \"50%\",\n\n    backgroundColor: `${color}`,\n    color: \"var(--light)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  };\n  const initialsH1Style = {\n    justifySelft: \"center\",\n    textShadow: \"var(--text-shadow)\",\n    fontSize: `${size / 2.5}px`,\n  };\n  return (\n    <>\n      {user&& user.permissionId ? (\n        <div className=\"avatar btn\" style={avatarStyle}>\n          {user.photoLink ? (\n            <img style={photoStyle} src={user.photoLink} alt=\"your avatar\" />\n          ) : (\n            <div style={initialsStyle}>\n              <h1 style={initialsH1Style}>\n                {user &&  user.displayName.split(\"\")[0] }\n                &nbsp;\n              </h1>\n            </div>\n          )}\n        </div>\n      ) : (\n       null\n      )}\n    </>\n  );\n};\n\nexport default Avatar;\n","import React, { useContext } from \"react\";\nimport \"./Dashboard.scss\";\nimport { FaEnvelope, FaSignOutAlt } from \"react-icons/fa\";\nimport { IoIosCloseCircleOutline } from \"react-icons/io\";\nimport styles from \"../App.module.scss\";\nimport { Context } from \"../store/store\";\nimport Avatar from \"./Avatar\";\n\nconst Dashboard = () => {\n  const [state, dispatch] = useContext(Context);\n\n  return (\n    <>\n      <div id=\"dashboard-dialog\" className=\"dash-wrapper\">\n        <div className=\"dashboard \">\n          <div\n            style={{ marginTop: \"4px\" }}\n            className={styles.errorCardCloseBtn}\n          >\n            <IoIosCloseCircleOutline\n              type=\"button\"\n              onClick={()=> dispatch({type:'SET_PROFILE_DASHBOARD', payload: !state.profileDashboard})}\n            />\n          </div>\n\n          <div className=\"dashboard-content\">\n            <div className=\"dash-user-info \">\n              <Avatar user={state.profile.user} size={65} />\n              <div>\n                <h3 className=\"\">{state.profile.user.displayName}</h3>\n              </div>\n            </div>\n            <div className=\"dash-action dash-animation\">\n              <div className=\" dash-icon\">\n                <FaEnvelope />\n              </div>\n              <h5 className=\"\">{state.profile.user.emailAddress}</h5>\n            </div>\n            <div className=\"dash-action dash-animation\">\n              <div className=\" dash-icon\">\n                <FaSignOutAlt />\n              </div>\n              <h5 className=\"dash-action\">Sign out</h5>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Dashboard;\n","\nvar YOUR_CLIENT_ID = process.env.REACT_APP_CLIENT_ID;\nvar YOUR_REDIRECT_URI = process.env.REACT_APP_REDIRECT;\n// eslint-disable-next-line no-restricted-globals\n\n\n// If there's an access token, try an API request.\n// Otherwise, start OAuth 2.0 flow.\nfunction signIn(dispatch?: Function) {\n  const savedLocally = localStorage.getItem('oauth2');\n  if (savedLocally) var params = JSON.parse(savedLocally);\n  if (params && params['access_token']) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET',\n      'https://www.googleapis.com/drive/v3/about?fields=user&' +\n      'access_token=' + params['access_token']);\n    xhr.onreadystatechange = function (e) {\n      if (xhr.readyState === 4 && xhr.status === 200) {\n      \n       \n        dispatch && dispatch({ type: 'SET_PROFILE', payload: JSON.parse(xhr.response) });\n        localStorage.setItem('profile', xhr.response);\n        dispatch && dispatch({ type: 'SET_IS_LOGGED_IN', payload: true });\n      } else if (xhr.readyState === 4 && xhr.status === 401) {\n        // Token invalid, so prompt for user permission.\n        oauth2SignIn();\n      }\n    };\n    xhr.send(null);\n  } else {\n    oauth2SignIn();\n  }\n return Promise\n}\n\n/*\n * Create form to request access token from Google's OAuth 2.0 server.\n */\nfunction oauth2SignIn() {\n  // Google's OAuth 2.0 endpoint for requesting an access token\n  var oauth2Endpoint = 'https://accounts.google.com/o/oauth2/v2/auth';\n\n  // Create element to open OAuth 2.0 endpoint in new window.\n  var form = document.createElement('form');\n  form.setAttribute('method', 'GET'); // Send as a GET request.\n  form.setAttribute('action', oauth2Endpoint);\n\n  // Parameters to pass to OAuth 2.0 endpoint.\n  var params: any = {\n    'client_id': YOUR_CLIENT_ID,\n    'redirect_uri': YOUR_REDIRECT_URI,\n    'scope': `https://www.googleapis.com/auth/drive.metadata.readonly https://www.googleapis.com/auth/userinfo.profile ${process.env.REACT_APP_API_SCOPES}`,\n    'state': 'signIn',\n    'include_granted_scopes': 'true',\n    'response_type': 'token'\n  };\n\n  // Add form parameters as hidden input values.\n  for (var p in params) {\n    var input = document.createElement('input');\n    input.setAttribute('type', 'hidden');\n    input.setAttribute('name', p);\n    input.setAttribute('value', params[p]);\n    form.appendChild(input);\n  }\n\n  // Add form to page and submit it to open the OAuth 2.0 endpoint.\n  document.body.appendChild(form);\n  form.submit();\n}\n\nfunction signOut(dispatch: Function) {\n  dispatch({ type: 'SET_PROFILE', payload: {} })\n  dispatch({ type: 'SET_IS_LOGGED_IN', payload: false });\n  dispatch({ type: 'SET_COURSES', payload: false });\n  localStorage.removeItem('oauth2')\n  localStorage.removeItem('profile')\n}\nfunction getHeaders(){\n  const auth = JSON.parse(localStorage.getItem('oauth2')|| \"\")\n  return { 'Authorization': `Bearer ${auth.access_token}`, 'Accept': 'application/json', 'Content-Type': 'application/json' }\n}\nexport { signIn, signOut, getHeaders }","import React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"../App.module.scss\";\n\nimport { BiLogIn, BiCopy, BiLogOut } from \"react-icons/bi\";\nimport { MdAssignment } from \"react-icons/md\";\nimport { BsCardChecklist } from \"react-icons/bs\";\nimport { Context } from \"../store/store\";\nimport Avatar from \"./Avatar\";\nimport Dashboard from \"./Dashboard\";\nimport { signIn, signOut } from \"./signInFuncs\";\nfunction Nav() {\n  const [state, dispatch] = useContext(Context);\n  const { profile: user } = state;\n\n  return (\n    <>\n      <nav>\n        <ul>\n          <li>\n            <Link to=\"/ListofClassrooms\">\n              <BsCardChecklist /> List of Classrooms\n            </Link>\n          </li>\n\n          <li>\n            <Link to=\"/CourseBlueprint\">\n              {\" \"}\n              <MdAssignment /> Classroom Blueprint\n            </Link>\n          </li>\n          <li>\n            <Link to=\"/CopyAssignmentsToNewClassroom\">\n              {\" \"}\n              <BiCopy /> Copy Blueprint to your Classrooms\n            </Link>\n          </li>\n          <li>\n            <div className={styles.avatarBtn} onClick={()=> dispatch({type:'SET_PROFILE_DASHBOARD', payload: !state.profileDashboard})}>\n              <Avatar size={45} user={user.user} />\n            </div>\n          </li>\n          <li>\n            {!state.isLoggedIn ? (\n              <button\n                type=\"button\"\n                className={`${styles.blue} ${styles.btnSmall} ${styles.vibration}`}\n                onClick={() => signIn(dispatch)}\n              >\n                <BiLogIn /> Sign in\n              </button>\n            ) : (\n              <button\n                type=\"button\"\n                className={`${styles.red} ${styles.btnSmall}`}\n                onClick={() => signOut(dispatch)}\n              >\n                <BiLogOut /> Sign out\n              </button>\n            )}\n          </li>\n        </ul>\n        {(state.profileDashboard && state.isLoggedIn  )? <Dashboard />:null}\n      </nav>\n    </>\n  );\n}\n\nexport default Nav;\n","import React, { useContext, useEffect } from \"react\";\nimport styles from \"../App.module.scss\";\nimport { Context } from \"../store/store\";\n\nexport default function Home() {\n  const { courseId } = useContext(Context);\n\n  useEffect(() => {\n    document.title = \"Google Classroom API Manager\";\n    return () => {};\n  }, [courseId]);\n  return (\n    <>\n      <main className={styles.mainContainer}>\n        <h2>Welcome to Easy access to Google Classroom</h2>\n        <p>\n          This is an App that allows you to copy all the assignments and topics\n          from a selected classroom to as many classrooms as needed even if they\n          are in a different account.\n        </p>\n      </main>\n    </>\n  );\n}\n","import { StateInterface, TopicInterface } from \"../interfaces/interfaces\";\nimport { getHeaders } from \"../components/signInFuncs\";\nimport { sortByUpdateDate } from \"./util\";\n\n/**\n * Creates a topic in the specified classroom\n * sets SET_TARGET_TOPIC_IDS with the id of the newly created topic in the target Classroom\n * @param courseId\n * @param topic\n * @param targetCourseTopicIds\n * @param dispatch\n * @param setLoading\n * @throws exception so that it can stop if used in loops\n */\nasync function createTopic(courseId: string, state: StateInterface, dispatch: Function) {\n  const { topic } = state;\n  const requestBody: BodyInit = JSON.stringify(topic);\n  try {\n    await fetch(`https://classroom.googleapis.com/v1/courses/${courseId}/topics?key=${process.env.REACT_APP_API_KEY}`, { method: \"POST\", headers: getHeaders(), body: requestBody })\n      .then(async (res) => {\n        if (!res.ok) {\n          const er = await res.json();\n          throw new Error(er.error.message);\n        }\n        return res.json();\n      })\n      .then(async (res: any) => {\n        const { topicId } = topic; //extract the id from the original topic\n        const { topicId: targetTopicId } = res; //extract and rename from the newly created topic\n        // await sessionStorage.setItem(`${courseId}=${topicId}`, targetTopicId)\n        // targetCourseTopicIds[topicId] = targetTopicId; //save it as a key-value pair to associate it.\n        // dispatch({ type: 'SET_TARGET_TOPIC_IDS', payload: { ...targetCourseTopicIds } });\n\n        // dispatch({ type: 'SET_LOGS', payload: [{ type: logTypes.TOPIC, targetTopicId }, ...logs] });\n      })\n      .catch((er: any) => { throw new Error(er); });\n    // dispatch({ type: 'SET_LOADING', payload: \"\" });\n  } catch (error) {\n    console.log(error)\n    // dispatch({ type: 'SET_LOADING', payload: \"\" });\n    // throw error;\n  }\n}\n\n\n/**\n * dispatches the list of topics that the requester is permitted to view.\n * @param id \n * @param dispatch \n */\nasync function getAllTopics(id: string, dispatch: Function) {\n\n  dispatch({ type: 'SET_SELECTED_TOPICS', payload: null });\n  try {\n    await fetch(`https://classroom.googleapis.com/v1/courses/${id}/topics?&key=${process.env.REACT_APP_API_KEY}`, { headers: getHeaders() })\n      .then(response => response.json())\n      .then(async (res: any) => {\n        const classwork = await res.topic;\n        dispatch({ type: 'SET_SELECTED_TOPICS', payload: classwork.sort(sortByUpdateDate) });\n        localStorage.setItem('selectedTopics', JSON.stringify(classwork));\n      })\n      .catch((er: any) => { throw new Error(er); });\n\n  } catch (error) {\n    console.log(error)\n    // dispatch({ type: 'SET_ERROR', payload: [{ message: error.message }] });\n  }\n}\n/**\n * Returns the list of topics that the requester is permitted to view\n * @param id \n * @param dispatch \n */\nasync function getTopicArray(courseId: string, dispatch: Function) {\n  let results: Array<TopicInterface> = [];\n  try {\n    await fetch(`https://classroom.googleapis.com/v1/courses/${courseId}/topics?&key=${process.env.REACT_APP_API_KEY}`, { headers: getHeaders() })\n      .then(response => response.json())\n      .then(async (res: any) => results = await res.topic)\n      .catch((er: any) => { throw new Error(er); });\n\n  } catch (error) {\n    console.log(error)\n    // dispatch({ type: 'SET_ERROR', payload: [{ message: error.message }] });\n  }\n  return results;\n}\n\n/**\n * iterates over all the current classrooms and the saved classwork\n * and creates  new classwork in the target classrooms. It sets a hashmap <currentTopicId, targetTopicId>\n * @param classwork\n * @param targetCourseTopicIds\n * @param dispatch\n * @param setLoading\n */\nasync function createTopics(courseId: string, state: StateInterface, dispatch: Function) {\n  const { topics } = state;\n  let breaker: boolean = false;\n  try {\n    for (const topic of topics) {\n      if (!breaker) {\n        await createTopic(courseId, { ...state, topic }, dispatch); //mock\n      }\n      breaker = state.error.length > 0;\n    }\n\n  } catch (error) {\n    console.log(error)\n    // dispatch({ type: 'SET_ERROR', payload: [{ message: error.message }, ...state.error] });\n  }\n}\n\nasync function deleteTopic(courseId: string, id: string, state: StateInterface, dispatch: Function) {\n  try {\n    await fetch(`https://classroom.googleapis.com/v1/courses/${courseId}/topics/${id}?key=${process.env.REACT_APP_API_KEY}`,\n      { method: \"DELETE\", headers: getHeaders() })\n      .then(async (res) => {\n        if (!res.ok) {\n          const er = await res.json();\n          throw new Error(er.error.message);\n        }\n        return res.json();\n      })\n      .then(async (res: any) => {\n        // dispatch({ type: 'SET_LOGS', payload: [{ type: logTypes.ASSIGMENT, id: res.id }, ...logs] });\n      })\n      .catch((er: any) => { throw new Error(er); });\n    // dispatch({ type: 'SET_LOADING', payload: \"\" });\n  } catch (error) {\n    console.log(error)\n    // dispatch({ type: 'SET_ERROR', payload: [{ message: error.message }] });\n    // dispatch({ type: 'SET_LOADING', payload: \"\" });\n  }\n}\nexport { createTopics, getAllTopics, deleteTopic, getTopicArray }\n","import { getHeaders } from \"../components/signInFuncs\";\nimport {  StateInterface } from \"../interfaces/interfaces\";\n\nexport async function createCourseWork(courseId: string, state: StateInterface, dispatch: Function) {\n  const {  assignment } = state;\n  const requestBody: BodyInit = JSON.stringify(assignment);\n  try {\n    await fetch(`https://classroom.googleapis.com/v1/courses/${courseId}/courseWork?key=${process.env.REACT_APP_API_KEY}`, { method: \"POST\", headers: getHeaders(), body: requestBody })\n      .then(async (res) => {\n        if (!res.ok) {\n          const er = await res.json();\n          throw new Error(er.error.message);\n        }\n        return res.json();\n      })\n      .then(async (res: any) => {\n        // dispatch({ type: 'SET_LOGS', payload: [{ type: logTypes.ASSIGMENT, id: res.id }, ...logs] });\n      })\n      .catch((er: any) => { throw new Error(er); });\n    // dispatch({ type: 'SET_LOADING', payload: \"\" });\n  } catch (error) {\n    console.log(error)\n    // dispatch({ type: 'SET_ERROR', payload: [{ message: error.message }] });\n    // dispatch({ type: 'SET_LOADING', payload: \"\" });\n  }\n}\n/**\n * Deletes a course work. This request must be made by the Developer Console\n *  project of the OAuth client ID used to create the corresponding course work item.\n * @param courseId \n * @param id \n * @param state \n * @param dispatch \n */\nexport async function deleteCourseWork(courseId: string, id: string, state: StateInterface, dispatch: Function) {\n\n  try {\n    await fetch(`https://classroom.googleapis.com/v1/courses/${courseId}/courseWork/${id}?key=${process.env.REACT_APP_API_KEY}`,\n      { method: \"DELETE\", headers: getHeaders() })\n      .then(async (res) => {\n        if (!res.ok) {\n          const er = await res.json();\n          throw new Error(er.error.message);\n        }\n        return res.json();\n      })\n      .then(async (res: any) => {\n        // dispatch({ type: 'SET_LOGS', payload: [{ type: logTypes.ASSIGMENT, id: res.id }, ...logs] });\n      })\n      .catch((er: any) => { throw new Error(er); });\n    // dispatch({ type: 'SET_LOADING', payload: \"\" });\n  } catch (error) {\n    console.log(error)\n    // dispatch({ type: 'SET_ERROR', payload: [{ message: error.message }] });\n    // dispatch({ type: 'SET_LOADING', payload: \"\" });\n  }\n}\n","import {  StateInterface } from \"../interfaces/interfaces\";\nimport { getHeaders } from \"../components/signInFuncs\";\n/**\n * Creates a course work material.\n * @param courseId \n * @param state \n * @param dispatch \n * @returns \n */\nasync function createCourseWorkMaterials(courseId: string, state: StateInterface, dispatch: Function) {\n  const {  assignment } = state;\n  const requestBody: BodyInit = JSON.stringify(assignment);\n  try {\n    await fetch(`https://classroom.googleapis.com/v1/courses/${courseId}/courseWorkMaterials?key=${process.env.REACT_APP_API_KEY}`, { method: \"POST\", headers: getHeaders(), body: requestBody })\n      .then(async (res) => {\n        if (!res.ok) {\n          const er = await res.json();\n          throw new Error(er.error.message);\n        }\n        return res.json();\n      })\n      .then(async (res: any) => {\n        // dispatch({ type: 'SET_LOGS', payload: [{ type: logTypes.MATERIAL, id: res.id }, ...logs] });\n      })\n      .catch((er: any) => { throw new Error(er); });\n    // dispatch({ type: 'SET_LOADING', payload: \"\" });\n  } catch (error) {\n    console.log(error)\n    // dispatch({ type: 'SET_LOADING', payload: \"\" });\n    // dispatch({\n    //   type: 'SET_ERROR', payload: [{ message: error.message }]\n    // });\n  }\n}\n/**\n * Returns a list of course work material that the requester is permitted to view.\n * @param id \n * @returns \n */\nasync function getCourseWorkMaterials<T>(id: string) {\n  let results: Array<T> = [];\n  await fetch(`https://classroom.googleapis.com/v1/courses/${id}/courseWorkMaterials?courseWorkMaterialStates=PUBLISHED&courseWorkMaterialStates=DRAFT&orderBy=updateTime%20desc&key=${process.env.REACT_APP_API_KEY}`, { headers: getHeaders() })\n    .then(response => response.json())\n    .then(async (res: any) => {\n      results = res.courseWorkMaterial;\n    })\n    .catch((er: any) => { throw new Error(er); });\n\n  return results;\n}\n\n/**\n * Deletes a course work material.\n * This request must be made by the Developer Console project of the OAuth client ID used\n * to create the corresponding course work material item.\n * @param courseId \n * @param state \n * @param dispatch \n */\nasync function deleteCourseWorkMaterials(courseId: string,id: string, state: StateInterface, dispatch: Function) {\n  try {\n    await fetch(`https://classroom.googleapis.com/v1/courses/${courseId}/courseWorkMaterials/${id}?key=${process.env.REACT_APP_API_KEY}`,\n      { method: \"DELETE\", headers: getHeaders() })\n      .then(async (res) => {\n        if (!res.ok) {\n          const er = await res.json();\n          throw new Error(er.error.message);\n        }\n        return res.json();\n      })\n      .then(async (res: any) => {\n        // dispatch({ type: 'SET_LOGS', payload: [{ type: logTypes.ASSIGMENT, id: res.id }, ...logs] });\n      })\n      .catch((er: any) => { throw new Error(er); });\n    // dispatch({ type: 'SET_LOADING', payload: \"\" });\n  } catch (error) {\n    console.log(error)\n    // dispatch({ type: 'SET_ERROR', payload: [{ message: error.message }] });\n    // dispatch({ type: 'SET_LOADING', payload: \"\" });\n  }\n}\n\nexport { createCourseWorkMaterials, getCourseWorkMaterials, deleteCourseWorkMaterials }","import { UserInterface } from \"../interfaces/interfaces\";\nimport { getHeaders } from \"../components/signInFuncs\";\n\n/**\n * @function Returns a list of courses that the requesting user is permitted to view,\n *  restricted to those that match the request. Returned courses are ordered by creation time,\n *  with the most recently created coming first.\n * @param dispatch is a regular dispatch function from a reducer\n * @param callbackDispatch is an optional callback function to overload the function.\n * @param setLoading helps the ui by setting the function to empty string \"\" when done\n */\nasync function getAllCourses<T>(dispatch: Function): Promise<T[]> {\n  try {\n    await fetch(`https://classroom.googleapis.com/v1/courses?courseStates=ACTIVE&key=${process.env.REACT_APP_API_KEY}`, { headers: getHeaders() })\n      .then(response => response.json())\n      .then((res: any) => dispatch({ type: 'SET_COURSES', payload: res.courses }))\n      .catch((error: any) => {\n        throw new Error(error);\n      });\n    dispatch({ type: 'SET_LOADING', payload: \"\" });\n\n  } catch (error) {\n    console.log(error)\n    dispatch({\n      type: 'SET_ERROR', payload: [{ message: ` ${error.message}` }]\n    });\n    dispatch({ type: 'SET_LOADING', payload: \"\" });\n  }\n  return [];\n}\n/**\n * Returns an array of courses that the requesting user is permitted to view,\n *  restricted to those that match the request. Returned courses are ordered by creation time,\n *  with the most recently created coming first.\n * @param dispatch is a regular dispatch function from a reducer\n */\n async function getCoursesArray<T>(dispatch:Function): Promise<T[]> {\n  let results: Array<T> = [];\n  try {\n    await fetch(`https://classroom.googleapis.com/v1/courses?courseStates=ACTIVE&key=${process.env.REACT_APP_API_KEY}`, { headers: getHeaders() })\n      .then(response => response.json())\n      .then((res: any) => {\n        if (res.courses) {\n          results = res.courses;\n\n        } else {\n          console.log('There were no classrooms to do this operations upon.')\n          // dispatch({type: 'SET_ERROR', payload: [{ message: 'There were no classrooms to do this operations upon.' }]});\n          // dispatch({ type: 'SET_LOADING', payload: \"\" });\n        }\n      })\n      .catch((error: any) => {\n        throw new Error(error);\n      });\n\n  } catch (error) {\n    console.log(error)\n    // dispatch({ type: 'SET_ERROR', payload: [{ message: error.message }] });\n  }\n  return results;\n}\n\n/**\n * @param id  Identifier of the course to return. This identifier can be either\n * the Classroom-assigned identifier or an alias.\n * @param dispatch a callback function that changes the state ither for selectedcourse or error\n * @returns a course object and sets the state at the same time.\n */\nasync function getCourse(id: string, profile: { user: UserInterface; }, dispatch: Function): Promise<object | null> {\n  if (id === \"\")\n    id = 'no id provided';\n  dispatch({ type: 'SET_SELECTED_CLASSROOM', payload: null });\n  try {\n    await fetch(`https://classroom.googleapis.com/v1/courses/${id}?key=${process.env.REACT_APP_API_KEY}`, { headers: getHeaders() })\n      .then(response => response.json())\n      .then((res: any) => {\n        const modifiedRes = { dateItWasSaved: new Date(), user: profile.user, ...res };\n        dispatch({ type: 'SET_SELECTED_CLASSROOM', payload: modifiedRes });\n        localStorage.setItem('selectedClassroom', JSON.stringify(modifiedRes));\n      })\n      .catch((er: any) => { throw new Error(er); });\n dispatch({ type: 'SET_LOADING', payload: \"\" });\n  } catch (error) {\n    console.log(error)\n    // dispatch({ type: 'SET_ERROR', payload: [{ message: error.message }] });\n     dispatch({ type: 'SET_LOADING', payload: \"\" });\n  }\n  return null;\n}\n\nexport {getCourse, getAllCourses, getCoursesArray}","import { AssignmentInterface, CourseInterface, StateInterface, TopicIdsInterface, TopicInterface } from \"../interfaces/interfaces\";\nimport { deleteTopic, getAllTopics, getTopicArray } from \"./topicRequests\";\nimport { getHeaders } from \"../components/signInFuncs\";\nimport { createCourseWork, deleteCourseWork } from \"./classWorkRequests\";\nimport { createCourseWorkMaterials, deleteCourseWorkMaterials, getCourseWorkMaterials } from \"./courseWorkMaterialsRequests\";\nimport { getCoursesArray } from \"./courseRequests\";\n\n/**\n * Returns a list of course work and course work material that the requester is permitted to view.\n * @param id\n * @param dispatch\n * @returns\n */\n\n\n\nasync function getAssignments(id: string, dispatch: Function) {\n  if (!id)\n    return dispatch({ type: 'SET_ERROR', payload: [{ message: 'no id was provided to assignment function.' }] });\n  dispatch({ type: 'SET_SELECTED_ASSIGNMENTS', payload: null });\n  try {\n    return await fetch(`https://classroom.googleapis.com/v1/courses/${id}/courseWork?courseWorkStates=PUBLISHED&courseWorkStates=DRAFT&orderBy=updateTime%20desc&key=${process.env.REACT_APP_API_KEY}`, { headers: getHeaders() })\n      .then(response => response.json())\n      .then(async (res: any) => {\n        const assignments = await res.courseWork;\n        const materials = await getCourseWorkMaterials(id); //materials are different from courseWork that's why We also call this function.\n\n        dispatch({ type: 'SET_SELECTED_ASSIGNMENTS', payload: [...assignments || [], ...materials || []] });\n        localStorage.setItem('selectedAssignments', JSON.stringify([...assignments || [], ...materials || []]));\n      })\n      .then(() => getAllTopics(id, dispatch)) // we call the following function to store the classwork in the state and local storage.\n      .catch((er: any) => { throw new Error(er); });\n\n  } catch (error) {\n    // dispatch({ type: 'SET_ERROR', payload: [{ message: error.message }] });\n    console.log(error)\n  }\n\n}\n\nasync function getAssignmentArray(courseId: string, dispatch: Function) {\n  let results: Array<AssignmentInterface> = [];\n  try {\n    await fetch(`https://classroom.googleapis.com/v1/courses/${courseId}/courseWork?courseWorkStates=DRAFT&courseWorkStates=PUBLISHED&key=${process.env.REACT_APP_API_KEY}`, { headers: getHeaders() })\n      .then(response => response.json())\n      .then(async (res: any) => {\n        const assignments = await res.courseWork;\n        const materials = await getCourseWorkMaterials(courseId);\n\n        results = [...assignments || [], ...materials || []];\n      });\n\n  } catch (error) {\n    console.log(error)\n    //  dispatch({\n    // type: 'SET_ERROR', payload: [{ message: error.message }]\n    // });\n  }\n  return results;\n}\n\nasync function createAssignments(courseId: string,\n  selectedAssignments: AssignmentInterface[], selectedTopics: TopicInterface[],\n  state: StateInterface, dispatch: Function) {\n  const targetTopics = await getTopicArray(courseId, dispatch);\n  // console.log(`selectedAssignments`, typeof selectedAssignments)\n  // console.log(`selectedTopics`, typeof selectedTopics)\n  // let breaker: boolean = false;\n \n  try {\n    for await (const assignment of selectedAssignments) {\n      const selectedTopic = selectedTopics.find((topic) => topic.topicId === assignment.topicId)\n      console.log(`before selectedTopic`, selectedTopic)\n      if (selectedTopic) {\n\n        // console.log('ids comparizon', `${selectedTopic.topicId}-- ${assignment.topicId}`)\n        // if (selectedTopic.topicId === assignment.topicId) {\n        const targetTopic = targetTopics.filter((targetTopic) => targetTopic.name === selectedTopic.name)[0]\n        console.log('name comparizon', `${targetTopic.name}-- ${selectedTopic.name}`)\n\n        // console.log('targetTopic', targetTopic.topicId)\n        delete assignment['id']; //delete the id because is an invalid argument\n        delete assignment['courseId']; //delete the courseId because is an invalid argument\n        delete assignment['creatorUserId']; //delete the courseId because is an invalid argument\n\n        //  const { topicId } = assignment;\n        // let tempTopicId = targetCourseTopicIds[topicId]; //get the associate value with that key\n        //  const tempTopicId = sessionStorage.getItem(`${courseId}=${topicId}`)\n\n        assignment.topicId = targetTopic.topicId;\n\n        //swap the value before sending the request.\n        if (!assignment['workType']) {\n          await createCourseWorkMaterials(courseId, { ...state, assignment }, dispatch); //mock\n          console.log('createCourseWorkMaterials', `${assignment.topicId}--- ${assignment.title}`)\n\n        } else {\n          console.log('createCourseWork', `${assignment.topicId}--- ${assignment.title}`)\n          await createCourseWork(courseId, { ...state, assignment }, dispatch); //mock\n\n        }\n      }\n    }\n  } catch (error) {\n    console.log(error)\n    // dispatch({ type: 'SET_ERROR', payload: [{ message: error.message }, ...state.error] });\n  }\n}\n\n\nasync function undoActions(state: StateInterface, dispatch: Function) {\n  throw new Error('TODO, NOTHING IS IMPLEMENTED IN THIS FUNCTION')\n}\n\n/**\n * Filters the assignments and topics from the blueprint. If there is an assignments or topics\n * with a title from the filtered data, it will be deleted. \n * @param state \n * @param dispatch \n */\nasync function undoOldActions(state: StateInterface, dispatch: Function) {\n  const coursesToBeEdited = await getCoursesArray<CourseInterface>(dispatch);\n  const { assignments: localAssignments, topics: localTopics, error } = state;\n\n  const titlesFromlocalAssignments = localAssignments.map((courseWork: AssignmentInterface) => courseWork.title); //titles from locally saved array of assignments\n  const titlesFromLocalTopics = localTopics.map((topic: TopicIdsInterface) => topic.name); //titles from locally saved array of topics\n  let topicAccumulator: any = {};\n  let breaker: boolean = false;\n\n  try {\n    coursesToBeEdited.forEach(async (courseToBeEdited) => {\n      const targetAssignments = await getAssignmentArray(courseToBeEdited.id, dispatch);\n      const targetTopics = await getTopicArray(courseToBeEdited.id, dispatch);\n\n      for (const assignment of targetAssignments) {\n        if (!breaker) { // if there is an error, break out of the loop.\n          const { id, title } = assignment;\n          if (titlesFromlocalAssignments.includes(title)) { //delete assignments if they have the title.\n            if (!assignment['workType']) {//if, they don't have worktype, they are materials.\n              await deleteCourseWorkMaterials(courseToBeEdited.id, id!, state, dispatch) //mock\n            } else {\n              await deleteCourseWork(courseToBeEdited.id, id!, state, dispatch); //mock\n            }\n          }\n        }\n        breaker = error.length > 0;\n      }\n      //delete Topics\n      if (targetTopics) {\n        for (const topic of targetTopics) {\n          if (!breaker) {\n            const { name, topicId } = topic;\n            if (titlesFromLocalTopics.includes(name)) {\n              await deleteTopic(courseToBeEdited.id, topicId!, state, dispatch)\n              topicAccumulator[topicId] = true;\n            }\n          }\n          breaker = error.length > 0;\n        }\n      }\n      dispatch({ type: 'SET_LOADING', payload: \"\" });\n    })\n  } catch (error) {\n    console.log(error)\n    // dispatch(setError([{ message: error.message }, ...error] ));\n    // dispatch({ type: 'SET_ERROR', payload: [{ message: error.message }] });\n  }\n}\n\nexport { createAssignments, getAssignmentArray, getAssignments, undoActions, undoOldActions }","import React from \"react\";\nimport styles from \"../App.module.scss\";\n\nexport default function Table<T>(props: { items: T[]; selection: string[], title:string }) {\n  const { items, selection, title } = props;\n\n  return (\n    <>\n      {\" \"}\n      <table>\n      <caption>{title}</caption>\n        <thead>\n          <tr className={styles.tr}>\n            {selection.map((heading, i) => (\n              <th className={styles.th} key={i}>\n                {heading}\n              </th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {items &&\n            items.map((course: any, j) => (\n              <tr className={styles.tr} key={j}>\n                {selection.map((heading, i) => (\n                  <td key={i}>{course[heading]}</td>\n                ))}\n              </tr>\n            ))}\n        </tbody>\n      </table>\n    </>\n  );\n}\n","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport React, { useContext, useState } from \"react\";\nimport styles from \"../App.module.scss\";\nimport { Context } from \"../store/store\";\nimport { getAssignments } from \"../requestFunctions/assignmentsRequest\";\nimport { FaCircleNotch } from \"react-icons/fa\";\nimport Table from \"../components/Table\";\n\nexport default function CourseBlueprint() {\n  const [state, dispatch] = useContext(Context);\n  const { assignments, selectedClassroom, topics } = state;\n  const [loading, setLoading] = useState(false);\n\n  return (\n    <>\n      <section className={styles.container}>\n        <h2>Blueprint From Selected Classroom</h2>\n     \n        <div className={styles.list}>\n          <Table\n            title={\"Topics\"}\n            selection={[\"courseId\", \"topicId\", \"name\"]}\n            items={topics}\n          ></Table>\n\n          <Table\n            title={\"Assignments and materials\"}\n            selection={[\"courseId\", \"id\", \"title\", \"state\"]}\n            items={assignments}\n          ></Table>\n        </div>\n        <div className={styles.list}>\n        <p>If you notice that the data in these tables is outdated and you are logged in in the account where you have the classroom blueprint, you can refresh the content.</p>\n        <button\n          type=\"button\"\n          className={`${styles.yellow} ${styles.btnSmall}`}\n          onClick={() => {\n            selectedClassroom && getAssignments(selectedClassroom.id, dispatch);\n            setLoading(true);\n          }}\n          disabled={!state.isLoggedIn || loading}\n        >\n          {!loading ? (\n            <span> Fetch or Refresh Blueprint </span>\n          ) : (\n            <FaCircleNotch size={30} className={styles.spin} />\n          )}\n        </button>\n        </div>\n      </section>\n    </>\n  );\n}\n","import React from 'react'\nimport styles from \"../App.module.scss\";\n\nexport default function Progress(props:{value:number, total:number}) {\n    const {value,total} = props;\n    const percentage = (100 * value) / total;\n    return (\n        <div className={styles.flexRows}>\n            <small>{percentage} %</small>\n            <progress value={percentage} max=\"100\"></progress>\n                {(value && total)?<div><small>{value}/</small> <small>{total}</small></div>:null}\n        </div>\n    )\n}\n","import React, { useContext } from \"react\";\nimport { FaCircleNotch } from \"react-icons/fa\";\nimport styles from \"../App.module.scss\";\nimport { Context } from \"../store/store\";\n\nexport default function BtnLoad(props: {\n  action: Function;\n  identifier: string;\n  text: string;\n  classNames?: string;\n  directCallback?: boolean;\n}) {\n  const [state, dispatch] = useContext(Context);\n\n  const { loading, isLoggedIn } = state;\n  const { action, identifier, text, classNames, directCallback } = props;\n  function isLoading(str: string) {\n    return loading === str;\n  }\n  return (\n    <div>\n      <button\n        type=\"button\"\n        className={`${classNames ? classNames : styles.yellow} ${\n          styles.btnSmall\n        }`}\n        onClick={() => {\n          directCallback ? action() : action(dispatch);\n          dispatch({ type: \"SET_LOADING\", payload: identifier });\n        }}\n        disabled={!isLoggedIn || isLoading(identifier)}\n      >\n        {!isLoading(identifier) ? (\n          <span>{text}</span>\n        ) : (\n          <FaCircleNotch size={30} className={styles.spin} />\n        )}\n      </button>\n    </div>\n  );\n}\n","import React, { useContext, useEffect, useRef } from \"react\";\nimport styles from \"../App.module.scss\";\n\nimport {\n  createAssignments,\n  undoOldActions,\n} from \"../requestFunctions/assignmentsRequest\";\nimport { createTopics } from \"../requestFunctions/topicRequests\";\nimport { Context } from \"../store/store\";\nimport Table from \"../components/Table\";\nimport Progress from \"../components/Progress\";\nimport {\n  getAllCourses,\n  getCoursesArray,\n} from \"../requestFunctions/courseRequests\";\nimport BtnLoad from \"../components/BtnLoad\";\nimport {\n  AssignmentInterface,\n  CourseInterface,\n  TopicInterface,\n} from \"../interfaces/interfaces\";\nexport default function CopyAssignmentsToNewClassroom() {\n  const [state, dispatch] = useContext(Context);\n  const { courses } = state;\n\n  // dealing with memory leaks when unmounting components\n  const unmounted = useRef(false);\n  useEffect(() => {\n    return () => {\n      unmounted.current = true;\n    };\n  }, []);\n\n  async function chainedActions() {\n    try {\n      \n      const coursesToBeEdited: CourseInterface[] = await getCoursesArray<CourseInterface>( dispatch);\n      let count = 0;\n      \n      for (let i = 0; i < coursesToBeEdited.length; i++) {\n          const selectedAssignments = JSON.parse( localStorage.getItem(\"selectedAssignments\") || \"\" ) as [];\n          const selectedTopics = JSON.parse(localStorage.getItem(\"selectedTopics\") || \"\") as [];\n          const courseReceivingChange = coursesToBeEdited[i];\n          \n        \n        await createTopics(courseReceivingChange.id, state, dispatch);\n\n        await createAssignments(\n            courseReceivingChange.id,\n            selectedAssignments,\n            selectedTopics,\n            state,\n            dispatch\n          );\n        dispatch({ type: \"SET_LOADING\", payload: \"\" });\n        count++;\n       console.log(count);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  return (\n    <section className={styles.mainContainerCopy}>\n      <h2>CopyAssignments</h2>\n      <div>\n        <ol className={styles.cols}>\n          <li>\n            <p>Get the list of all your classrooms</p>\n\n            <BtnLoad\n              action={getAllCourses}\n              identifier=\"button-1\"\n              text=\"Load my Classrooms\"\n            />\n            {courses && courses.length ? (\n              <Progress value={courses.length} total={courses.length} />\n            ) : null}\n          </li>\n\n          <li>\n            <p>Copy the topics from blueprint to your classrooms</p>\n            <BtnLoad\n              action={createTopics}\n              identifier=\"button-2\"\n              text=\"Copy Topics\"\n            />\n            {/* {topicLogs.current.length ? <Progress value={topicLogs.current.length} total={topics.length} /> : null} */}\n          </li>\n\n          <li>\n            <p>Copy the assignments from blueprint to your classrooms</p>\n            <BtnLoad\n              action={createAssignments}\n              identifier=\"button-3\"\n              text=\"Copy Assignments\"\n            />\n          </li>\n        </ol>\n        <hr />\n\n        <div className={styles.cols}>\n          <p> do all operations at once</p>\n          <BtnLoad\n            action={chainedActions}\n            identifier=\"button-4\"\n            text=\"copy entire blueprint\"\n          />\n        </div>\n        <div>\n          <p> Undo the previous operations</p>\n          <BtnLoad\n            action={() => undoOldActions(state, dispatch)}\n            identifier=\"button-5\"\n            text=\"undo actions\"\n            classNames={styles.red}\n          />\n        </div>\n      </div>\n      <h4>monitor operations</h4>\n      <h5></h5>\n      <div>\n        <Table\n          title={\"Classrooms in my account\"}\n          items={courses}\n          selection={[\"name\", \"completed\", \"id\", \"section\"]}\n        />\n      </div>\n    </section>\n  );\n}\n","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport React, { useContext, useMemo } from \"react\";\nimport styles from \"../App.module.scss\";\nimport { getAssignments } from \"../requestFunctions/assignmentsRequest\";\nimport { getCourse } from \"../requestFunctions/courseRequests\";\nimport { Context } from \"../store/store\";\nimport BtnLoad from \"./BtnLoad\";\n\n\n\nfunction getInput(e: any, dispatch:Function) {\n  e.preventDefault();\n  dispatch({type:'SET_COURSE_ID', payload:e.target.value});\n}\n\nexport default function ClassroomSelector() {\n  const [state, dispatch] = useContext(Context)\n\n const {courses, courseId,profile, selectedClassroom} = state;\n  const courseIds = courses ? courses.map((c: any) => c.id) : [];\n  const memoizedCourseId = useMemo(() => courseId, [courseId]);\n  return (\n    <section className={styles.cols}>\n      <select\n        name=\"courseId\"\n        onChange={(e) => getInput(e, dispatch)}\n        value={memoizedCourseId || \"default\"}\n      >\n        <option value=\"default\" disabled>\n          --pick classroom id of model to start operations...--\n        </option>\n        {courseIds.map((item: string) => (\n          <option key={item} value={item}>\n            {item}\n          </option>\n        ))}\n      </select>\n\n      <BtnLoad\n        \n        action={() => {\n          getCourse(courseId, profile, dispatch)\n            .then(() => {\n              if (selectedClassroom) getAssignments(selectedClassroom.id, dispatch);\n            })\n            .catch((err) => dispatch({ type: 'SET_ERROR', payload: ([{ message: err.message }])}));\n        }}\n        directCallback\n        identifier=\"model-selector\"\n        text=\"Select as model\"\n      />\n    </section>\n  );\n}\n","import React, { useContext } from \"react\";\nimport styles from \"../App.module.scss\";\nimport { Context } from \"../store/store\";\nimport ClassroomSelector from \"../components/ClassroomSelector\";\nimport Table from \"../components/Table\";\nimport { getAllCourses } from \"../requestFunctions/courseRequests\";\nimport BtnLoad from \"../components/BtnLoad\";\n\nexport default function Courses() {\n  const [state ] = useContext(Context);\n  const { courses } = state;\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.list}>\n     \n        <BtnLoad\n          action={getAllCourses}\n          identifier=\"GetlistofBtn\"\n          text=\"Get list of classrooms\"\n          classNames={styles.green}\n        />\n        <ClassroomSelector />\n\n        <Table\n          title={\"Classrooms in this account\"}\n          selection={[\"courseState\", \"name\", \"id\"]}\n          items={courses}\n        ></Table>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Home from \"../pages/Home\";\nimport CourseBlueprint from \"../pages/CourseBlueprint\";\nimport CopyAssignmentsToNewClassroom from \"../pages/CopyAssignmentsToNewClassroom\";\nimport Courses from \"../pages/Courses\";\nexport default function Routes() {\n  return (\n    <main>\n      <Switch>\n      <Route path=\"/\" exact>\n      <Home />\n        </Route>\n        <Route path=\"/actions\" exact>\n          <Home />\n        </Route>\n        <Route path=\"/ListofClassrooms\" exact>\n          <Courses />\n        </Route>\n        <Route path=\"/CourseBlueprint\">\n          <CourseBlueprint />\n        </Route>\n        <Route path=\"/CopyAssignmentsToNewClassroom\"><CopyAssignmentsToNewClassroom/></Route>\n       \n      </Switch>\n    </main>\n  );\n}\n","import React, { useContext, useState } from \"react\";\nimport styles from \"../App.module.scss\";\nimport { FiMinimize2, FiMaximize2 } from \"react-icons/fi\";\nimport { Context } from \"../store/store\";\nimport { formatDistanceToNow } from \"date-fns\";\n\nexport default function SelectedClassroom() {\n  const [state] = useContext(Context);\n\n  const { selectedClassroom } = state;\n  const [minimized, setMinimized] = useState(true);\n\n\n  if (selectedClassroom) {\n    const {\n      name,\n      id,\n      description,\n      courseState,\n      creationTime, \n      user,\n      dateItWasSaved,\n    } = selectedClassroom;\n\n    return (\n      <div className={styles.card}>\n        <div className={styles.errorCardCloseBtn}>\n          {!minimized ? (\n            <FiMinimize2 type=\"button\" onClick={() => setMinimized(true)} />\n          ) : (\n            <FiMaximize2 type=\"button\" onClick={() => setMinimized(false)} />\n          )}\n        </div>\n\n        {!minimized && <h2>selected Classrrom</h2>}\n        {selectedClassroom && (\n          <div className={styles.justifyStart}>\n            {!minimized ? (\n              <>\n                <p>\n                  <strong>id:</strong> {id}\n                </p>\n                <p>\n                  <strong>name:</strong> {name}\n                </p>\n                <p>\n                  <strong>description:</strong> {description}\n                </p>\n                <p>\n                  <strong>courseState:</strong> {courseState}\n                </p>\n                <p>\n                  <strong>creationTime:</strong>{\" \"}\n                  {formatDistanceToNow(new Date(creationTime), {\n                    addSuffix: true,\n                  })}\n                </p>\n              </>\n            ) : (\n              <>\n                <small>\n                  <strong>name:</strong> {name}\n                </small>\n          \n                  <div className={styles.flexRows}>\n                    <small>\n                      <strong>Saved by:</strong> {user.emailAddress}\n                    </small>\n                    <small>\n                      <strong>It was saved:</strong>{\" \"}\n                      {formatDistanceToNow(new Date(dateItWasSaved), {\n                        addSuffix: true,\n                      })}\n                    </small>\n                  </div>\n              \n              </>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n  return null;\n}\n","import React, { useContext, useEffect, useRef } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"./App.module.scss\";\nimport ErrorCard from \"./components/ErrorCard\";\nimport Footer from \"./components/Footer\";\nimport Nav from \"./components/Nav\";\nimport Routes from \"./components/Routes\";\nimport SelectedClassroom from \"./components/SelectedClassroom\";\nimport { signIn } from \"./components/signInFuncs\";\nimport { Context } from \"./store/store\";\n\n\nfunction loadAuth(dispatch:Function) {\n  // eslint-disable-next-line no-restricted-globals\n  var fragmentString = location.hash.substring(1);\n  var params: any = {};\n  var regex = /([^&=]+)=([^&]*)/g,\n    m;\n  while ((m = regex.exec(fragmentString))) {\n    params[decodeURIComponent(m[1])] = decodeURIComponent(m[2]);\n  }\n  if (Object.keys(params).length > 0) {\n    localStorage.setItem(\"oauth2\", JSON.stringify(params));\n    if (params[\"state\"] && params[\"state\"] === \"try_sample_request\") {\n      signIn(dispatch);\n    }\n  }\n}\nfunction App() {\n  const [, dispatch] = useContext(Context);\n\n  useEffect(() => {\n    window.addEventListener(\"load\", (e) => {\n      const savedCourse = localStorage.getItem(\"selectedClassroom\");\n      if (savedCourse)\n        dispatch({\n          type: \"SET_SELECTED_CLASSROOM\",\n          payload: JSON.parse(savedCourse),\n        });\n\n      const savedAssignments = localStorage.getItem(\"selectedAssignments\");\n      if (savedAssignments)\n        dispatch({\n          type: \"SET_SELECTED_ASSIGNMENTS\",\n          payload: JSON.parse(savedAssignments),\n        });\n      const savedTopics = localStorage.getItem(\"selectedTopics\");\n      if (savedTopics)dispatch({type: \"SET_SELECTED_TOPICS\",payload: JSON.parse(savedTopics),});\n        loadAuth(dispatch);\n        signIn(dispatch);\n    });\n  }, [dispatch]);\n\n  const unmounted = useRef(false);\n  useEffect(() => {\n    return () => {\n      unmounted.current = true;\n    };\n  }, []);\n\n  return (\n    <div>\n      <header className={styles.mainHeader}>\n        <Link to=\"/\">\n          <div>\n            <img\n              src={process.env.PUBLIC_URL + \"/google-classroom.png\"}\n              alt=\"google classroom icon\"\n            />\n            <h1>Google Classroom Admin</h1>\n          </div>\n        </Link>\n\n        <ErrorCard />\n        <SelectedClassroom />\n        <Nav />\n      </header>\n      <>\n        <Routes />\n      </>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Store } from \"./store/store\";\nimport  { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Store>\n      <Router> \n        <App />\n      </Router>\n    </Store>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}